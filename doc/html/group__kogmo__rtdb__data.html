<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KogMo-RTDB: C-Functions for Object Data Handling: Read and Write Object Data.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>C-Functions for Object Data Handling: Read and Write Object Data.</h1>  </div>
</div>
<div class="contents">

<p>These functions access the actual contents of the data-block of a certain object at a given point in time.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#ga8b932540c794a7f07e43a951bf4cd296">kogmo_rtdb_obj_initdata</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *metadata_p, void *data_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a new data block for an existing object.  <a href="#ga8b932540c794a7f07e43a951bf4cd296"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#gafe73aa47fafbe892ea84860026240e6e">kogmo_rtdb_obj_writedata</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, void *data_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write the local Data block of an Object to the Database.  <a href="#gafe73aa47fafbe892ea84860026240e6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#gaa7f71898a3c444c3149fa62c7225bdd4">kogmo_rtdb_obj_readdata</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the latest Data of an Object from the Database.  <a href="#gaa7f71898a3c444c3149fa62c7225bdd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#ga416e6b40a526e7e127cb88489a80b4c6">kogmo_rtdb_obj_readdata_older</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Data of an Object committed before a given Timestamp.  <a href="#ga416e6b40a526e7e127cb88489a80b4c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#ga98d84b531353fb6c9b51d905f289648b">kogmo_rtdb_obj_readdata_younger</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Data of an Object committed after a given Timestamp.  <a href="#ga98d84b531353fb6c9b51d905f289648b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#gafbeb021f66ed4e7822b1f95221a945e6">kogmo_rtdb_obj_readdata_datatime</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Data of an Object from the Database that was valid for the given Data Timestamp.  <a href="#gafbeb021f66ed4e7822b1f95221a945e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#ga916a6ac8aca761e879144cf12d5ff3e4">kogmo_rtdb_obj_readdata_dataolder</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Data of Object that has an Data Timestamp older than a given Timestamp.  <a href="#ga916a6ac8aca761e879144cf12d5ff3e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#ga120aab2acf0d4a196a4cf6da4b302e36">kogmo_rtdb_obj_readdata_datayounger</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Data of Object that has an Data Timestamp younger than a given Timestamp.  <a href="#ga120aab2acf0d4a196a4cf6da4b302e36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#gab643268b597beda1fe0e970402b8a8c3">kogmo_rtdb_obj_readdata_waitnext</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> old_ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the latest Data for an Object that has been committed after a given timestamp, and wait if there is no newer data.  <a href="#gab643268b597beda1fe0e970402b8a8c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__data.html#gada29cb6759d5102005012ec70612625a">kogmo_rtdb_obj_readdata_waitnext_ptr</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> old_ts, void *data_p, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="group__kogmo__rtdb__data.html#gab643268b597beda1fe0e970402b8a8c3" title="Get the latest Data for an Object that has been committed after a given timestamp, and wait if there is no newer data.">kogmo_rtdb_obj_readdata_waitnext()</a> with pointer.  <a href="#gada29cb6759d5102005012ec70612625a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>These functions access the actual contents of the data-block of a certain object at a given point in time. </p>
<p>Those functions will be found mostly in the main loop of applications.</p>
<p>Every data-block of an object begins with <a class="el" href="structkogmo__rtdb__subobj__base__t.html" title="Basis Object that every Data Object has to start with (has to inherit); This is the Part of the Objec...">kogmo_rtdb_subobj_base_t</a>, see kogmo_rtdb_objects for their definition. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga8b932540c794a7f07e43a951bf4cd296"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_initdata" ref="ga8b932540c794a7f07e43a951bf4cd296" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_obj_info_t *metadata_p, void *data_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_initdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>metadata_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a new data block for an existing object. </p>
<p>Zeros the data structure, and fills it with defaults (e.g. the maximum size from the given <a class="el" href="structkogmo__rtdb__obj__info__t.html" title="Data Block that contains Object-Metadata. The Metadata of an Object should not (or only very slowly) ...">kogmo_rtdb_obj_info_t</a>).</p>
<p>This function is for convenience and only helps to locally initialize the passed object data structure (that always begins with <a class="el" href="structkogmo__rtdb__subobj__base__t.html" title="Basis Object that every Data Object has to start with (has to inherit); This is the Part of the Objec...">kogmo_rtdb_subobj_base_t</a>). It does not yet write the object data into the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata_p</em>&nbsp;</td><td>Pointer to the Object-Metadata structure as retrieved from the database </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data_p</em>&nbsp;</td><td>Pointer to an Object data structure, that has been previously allocated by the user </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors </dd></dl>

</div>
</div>
<a class="anchor" id="gaa7f71898a3c444c3149fa62c7225bdd4"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata" ref="gaa7f71898a3c444c3149fa62c7225bdd4" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the latest Data of an Object from the Database. </p>
<p>This function reads the latest Data-Block of an Object from the database and writes it into a local structure of the calling process.<br/>
 It finds the block with a committed_ts &lt;= ts.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oid</em>&nbsp;</td><td>Object-ID of the desired object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>Timestamp at which the Object must be "the last committed"; 0 for "now" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data_p</em>&nbsp;</td><td>Pointer to a local object data structure where the data found in the rtdb will be copied to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Maximum size of the object data structure at data_p </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors, the real size of the object data found in the rtdb on success </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOTFOUND</em>&nbsp;</td><td>There is no object with the given object-id for the specified timestamp, the specified object has no data block (not yet or size=0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>The Pointer is NULL, The data size not allowed (more than size_max in <a class="el" href="structkogmo__rtdb__obj__info__t.html" title="Data Block that contains Object-Metadata. The Metadata of an Object should not (or only very slowly) ...">kogmo_rtdb_obj_info_t</a> or less than <a class="el" href="structkogmo__rtdb__subobj__base__t.html" title="Basis Object that every Data Object has to start with (has to inherit); This is the Part of the Objec...">kogmo_rtdb_subobj_base_t</a>) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOPERM</em>&nbsp;</td><td>You are not allowed to read this object (see flags.read_deny) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_HISTWRAP</em>&nbsp;</td><td>A history wrap-around occurred: While reading this object, the data has been overwritten. Either your reading process it too slow or the history_interval is to short. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_TOOFAST</em>&nbsp;</td><td>The data it stale (too old, now_ts-committed_ts &gt; max_cycle_time) and this check is active (flags.withhold_stale is set). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga916a6ac8aca761e879144cf12d5ff3e4"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_dataolder" ref="ga916a6ac8aca761e879144cf12d5ff3e4" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_dataolder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the Data of Object that has an Data Timestamp older than a given Timestamp. </p>
<p>This function finds the nearest data block of an object within the database with a data_ts &lt; ts. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__kogmo__rtdb__data.html#gaa7f71898a3c444c3149fa62c7225bdd4" title="Read the latest Data of an Object from the Database.">kogmo_rtdb_obj_readdata()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafbeb021f66ed4e7822b1f95221a945e6"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_datatime" ref="gafbeb021f66ed4e7822b1f95221a945e6" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_datatime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the Data of an Object from the Database that was valid for the given Data Timestamp. </p>
<p>This function finds the nearest data block of an object within the database with a data_ts &lt;= ts. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__kogmo__rtdb__data.html#gaa7f71898a3c444c3149fa62c7225bdd4" title="Read the latest Data of an Object from the Database.">kogmo_rtdb_obj_readdata()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga120aab2acf0d4a196a4cf6da4b302e36"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_datayounger" ref="ga120aab2acf0d4a196a4cf6da4b302e36" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_datayounger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the Data of Object that has an Data Timestamp younger than a given Timestamp. </p>
<p>This function finds the nearest data block of an object within the database with a data_ts &gt; ts. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__kogmo__rtdb__data.html#gaa7f71898a3c444c3149fa62c7225bdd4" title="Read the latest Data of an Object from the Database.">kogmo_rtdb_obj_readdata()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga416e6b40a526e7e127cb88489a80b4c6"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_older" ref="ga416e6b40a526e7e127cb88489a80b4c6" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_older </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the Data of an Object committed before a given Timestamp. </p>
<p>This function finds the nearest data block of an object within the database with a committed_ts &lt; ts. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__kogmo__rtdb__data.html#gaa7f71898a3c444c3149fa62c7225bdd4" title="Read the latest Data of an Object from the Database.">kogmo_rtdb_obj_readdata()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gab643268b597beda1fe0e970402b8a8c3"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_waitnext" ref="gab643268b597beda1fe0e970402b8a8c3" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t old_ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_waitnext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>old_ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the latest Data for an Object that has been committed after a given timestamp, and wait if there is no newer data. </p>
<p>This function waits until the Data-Block of an Object has an Commit-Timestamp greater than a given Timestamp (normally the last known Timestamp).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oid</em>&nbsp;</td><td>Object-ID of the desired Object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>old_ts</em>&nbsp;</td><td>Timestamp to compare with the Object-Data, the commit-timestamp in the returned object will be greater than this one </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data_p</em>&nbsp;</td><td>Pointer to a Object-Data-Struct where the found Data will be copied </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Maximum size the Object-Data-Struct at data_p can absorb </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors, size of found Object on success </dd></dl>

</div>
</div>
<a class="anchor" id="gada29cb6759d5102005012ec70612625a"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_waitnext_ptr" ref="gada29cb6759d5102005012ec70612625a" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t old_ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_waitnext_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>old_ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="group__kogmo__rtdb__data.html#gab643268b597beda1fe0e970402b8a8c3" title="Get the latest Data for an Object that has been committed after a given timestamp, and wait if there is no newer data.">kogmo_rtdb_obj_readdata_waitnext()</a> with pointer. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__kogmo__rtdb__data.html#gab643268b597beda1fe0e970402b8a8c3" title="Get the latest Data for an Object that has been committed after a given timestamp, and wait if there is no newer data.">kogmo_rtdb_obj_readdata_waitnext()</a> and <a class="el" href="group__kogmo__rtdb__dataptr.html#ga97df2c2fe209f3df49d6712fbab02c63" title="Get a Pointer to the latest Data of an Object within the Database.">kogmo_rtdb_obj_readdata_ptr()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga98d84b531353fb6c9b51d905f289648b"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readdata_younger" ref="ga98d84b531353fb6c9b51d905f289648b" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, void *data_p, kogmo_rtdb_objsize_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> kogmo_rtdb_obj_readdata_younger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the Data of an Object committed after a given Timestamp. </p>
<p>This function finds the nearest data block of an object within the database with a committed_ts &gt; ts. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__kogmo__rtdb__data.html#gaa7f71898a3c444c3149fa62c7225bdd4" title="Read the latest Data of an Object from the Database.">kogmo_rtdb_obj_readdata()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafe73aa47fafbe892ea84860026240e6e"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_writedata" ref="gafe73aa47fafbe892ea84860026240e6e" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, void *data_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_writedata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write the local Data block of an Object to the Database. </p>
<p>This function writes the Data-Block of an Object to the database; this is used to update an object and is normally done at every cycle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oid</em>&nbsp;</td><td>Object-ID of the object to write </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data_p</em>&nbsp;</td><td>Pointer to an object data structure that will be copied into the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOTFOUND</em>&nbsp;</td><td>There is no object with the given object-id, the specified object has no space for data blocks (size=0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>The data size not allowed (more than size_max in <a class="el" href="structkogmo__rtdb__obj__info__t.html" title="Data Block that contains Object-Metadata. The Metadata of an Object should not (or only very slowly) ...">kogmo_rtdb_obj_info_t</a> or less than <a class="el" href="structkogmo__rtdb__subobj__base__t.html" title="Basis Object that every Data Object has to start with (has to inherit); This is the Part of the Objec...">kogmo_rtdb_subobj_base_t</a>) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOPERM</em>&nbsp;</td><td>You are not allowed to write this object (see flags.write_allow) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_TOOFAST</em>&nbsp;</td><td>You are committing faster than the specified min_cycle_time and flags.cycle_watch is set)</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd><ul>
<li>The data_p should point to a structure, that starts with a sub-structure of <a class="el" href="structkogmo__rtdb__subobj__base__t.html" title="Basis Object that every Data Object has to start with (has to inherit); This is the Part of the Objec...">kogmo_rtdb_subobj_base_t</a></li>
<li>Set your <a class="el" href="structkogmo__rtdb__subobj__base__t.html#af78c466691a6e2acbd201409d4cf2909" title="(U) Size of the whole Data-Object, at least sizeof(kogmo_rtdb_subobj_base_t), at maximum the size spe...">kogmo_rtdb_subobj_base_t.size</a> to the correct size of your whole data-struct you want to commit</li>
<li>Set kogmo_rtdb_obj_subbase_t.data_ts accordingly. Do not commit data with timestamps old than in your last commit.<br/>
 (TODO: check for it, maybe refuse it) </li>
</ul>
</dd></dl>

</div>
</div>
</div>
<hr size="1"><address style="align: right;"><small>
Generated for KogMo-RTDB by Matthias.Goebl (mattias.goebl*kogmo-rtdb.de) - all rights reserved.</small></address>
</body>
</html>
