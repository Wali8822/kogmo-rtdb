<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KogMo-RTDB: C-Functions for Object Metadata Handling: Add, Remove, Search and Wait for Objects.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>C-Functions for Object Metadata Handling: Add, Remove, Search and Wait for Objects.</h1>  </div>
</div>
<div class="contents">

<p>Using these functions you can create new objects within the database and allocate space for actual data-block. You can also search for existing objects.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#gac2d4b4cbeb0ebbb5a548b35bcc5cb900">kogmo_rtdb_obj_initinfo</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *metadata_p, _const char *name, <a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a> otype, <a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a> size_max)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize Metadata for a new Object.  <a href="#gac2d4b4cbeb0ebbb5a548b35bcc5cb900"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga8263d43b43c08d272126f3ca9b5fc413">kogmo_rtdb_obj_insert</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *metadata_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert a new Object into the Database.  <a href="#ga8263d43b43c08d272126f3ca9b5fc413"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga721a17d400c7c641a2d7d160c5a96c9c">kogmo_rtdb_obj_delete</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *metadata_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete an existing Object.  <a href="#ga721a17d400c7c641a2d7d160c5a96c9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga37c06be2c18f8296bb00582ac476a7f0">kogmo_rtdb_obj_readinfo</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, <a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *metadata_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Metadata of an Object given by its Object-ID.  <a href="#ga37c06be2c18f8296bb00582ac476a7f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga75aa6fe027268f6926c8fccb4557c8fc">kogmo_rtdb_obj_dumpinfo_str</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, <a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *metadata_p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump the Metadata of a given Object into an ASCII-String.  <a href="#ga75aa6fe027268f6926c8fccb4557c8fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga2c5463f764f5a876eca68969a5459f57">kogmo_rtdb_obj_searchinfo</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, _const char *name, <a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a> otype, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> parent_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> proc_oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> ts, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> idlist, int nth)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find Objects by their Name, Parent, creating Process and Time.  <a href="#ga2c5463f764f5a876eca68969a5459f57"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga4e996bbe98b76d753b6453918b5fb52e">kogmo_rtdb_obj_searchinfo_wait</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, _const char *name, <a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a> otype, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> parent_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> proc_oid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists.  <a href="#ga4e996bbe98b76d753b6453918b5fb52e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga279616a754506c42bc0104dd241e49ee">kogmo_rtdb_obj_searchinfo_wait_until</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, _const char *name, <a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a> otype, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> parent_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> proc_oid, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> wakeup_ts)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists, but return after a Timeout.  <a href="#ga279616a754506c42bc0104dd241e49ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#gabfaace25dd02a253ae9d00a189f67dda">kogmo_rtdb_obj_searchinfo_waitnext</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, _const char *name, <a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a> otype, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> parent_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> proc_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> known_idlist, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> added_idlist, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> deleted_idlist)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Watch for the Creation and Deletion of Objects matching certain criteria and Wait until there is a Change.  <a href="#gabfaace25dd02a253ae9d00a189f67dda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__kogmo__rtdb__meta.html#ga94e9969832f1038b091e467275fa8a66">kogmo_rtdb_obj_searchinfo_waitnext_until</a> (<a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *db_h, _const char *name, <a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a> otype, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> parent_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> proc_oid, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> known_idlist, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> added_idlist, <a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a> deleted_idlist, <a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a> wakeup_ts)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Watch for the Creation and Deletion of Objects matching certain criteria and Wait until there is a Change, but return after a Timeout.  <a href="#ga94e9969832f1038b091e467275fa8a66"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Using these functions you can create new objects within the database and allocate space for actual data-block. You can also search for existing objects. </p>
<p>See kogmo_rtdb_data on how to read and write object data.</p>
<p>Those functions will be found mostly in the initialization section of applications.</p>
<p>The object metadata is defined in <a class="el" href="structkogmo__rtdb__obj__info__t.html" title="Data Block that contains Object-Metadata. The Metadata of an Object should not (or only very slowly) ...">kogmo_rtdb_obj_info_t</a>. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga721a17d400c7c641a2d7d160c5a96c9c"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_delete" ref="ga721a17d400c7c641a2d7d160c5a96c9c" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_obj_info_t *metadata_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>metadata_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete an existing Object. </p>
<p>This removes an object, including its metadata and object data blocks.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The object is only marked as deleted. Its history will still remain in the database for the time specified as history_interval. After this time the database manager process will actually delete it.<ul>
<li>Only the metadata given at <a class="el" href="group__kogmo__rtdb__meta.html#ga8263d43b43c08d272126f3ca9b5fc413" title="Insert a new Object into the Database.">kogmo_rtdb_obj_insert()</a> will be used! You cannot change the history_interval later.</li>
<li>If you want your objects to be removed immediately, create them with immediately_delete set.</li>
<li>If the deleted object has child objects with parent_delete set, they will also be deleted.</li>
</ul>
</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata_p</em>&nbsp;</td><td>Pointer to its Object-Metadata (only the Object-ID will be used) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters (your metadata_p is NULL). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOTFOUND</em>&nbsp;</td><td>An object with the specified OID cannot be found or is already marked for deletion. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOPERM</em>&nbsp;</td><td>You are not allowed to delete this object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga75aa6fe027268f6926c8fccb4557c8fc"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_dumpinfo_str" ref="ga75aa6fe027268f6926c8fccb4557c8fc" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_obj_info_t *metadata_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* kogmo_rtdb_obj_dumpinfo_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>metadata_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dump the Metadata of a given Object into an ASCII-String. </p>
<p>This is useful if you want to show the Metadata to the user, e.g. for debugging.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle (needed to resolve e.g. process names) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata_p</em>&nbsp;</td><td>Pointer to the object metadata structure with the data to be dumped. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to a string that will contain the dump in ASCII characters; the user must FREE it by itself after usage!<br/>
 NULL on errors</dd></dl>
<p>Example: </p>
<div class="fragment"><pre class="fragment">   <span class="keywordtype">char</span> *text_p = <a class="code" href="group__kogmo__rtdb__meta.html#ga75aa6fe027268f6926c8fccb4557c8fc" title="Dump the Metadata of a given Object into an ASCII-String.">kogmo_rtdb_obj_dumpinfo_str</a> (&amp;objmeta);
   printf (<span class="stringliteral">&quot;%s&quot;</span>, text_p); free(text_p); 
</pre></div> 
</div>
</div>
<a class="anchor" id="gac2d4b4cbeb0ebbb5a548b35bcc5cb900"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_initinfo" ref="gac2d4b4cbeb0ebbb5a548b35bcc5cb900" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_obj_info_t *metadata_p, _const char *name, kogmo_rtdb_objtype_t otype, kogmo_rtdb_objsize_t size_max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_initinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>metadata_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a>&nbsp;</td>
          <td class="paramname"> <em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga9abedc7430c5b4add02b6c6007e94b22">kogmo_rtdb_objsize_t</a>&nbsp;</td>
          <td class="paramname"> <em>size_max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize Metadata for a new Object. </p>
<p>Zeros the metadata, fills it with defaults (e.g. the cycle time of the calling process) and the given parameters.</p>
<p>This function is for convenience and only helps to initialize the metadata structure. It does not yet create the object and does not modify the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata_p</em>&nbsp;</td><td>Pointer to an Object-Metadata structure, that must be previously allocated by the user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name for the new Object; non-empty, allowed characters: a-z, A-Z, 0-9, "-", "_"; do not use "*","?" or "~" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>otype</em>&nbsp;</td><td>Type-Identifier for the new Object, see kogmo_rtdb_objtype for a list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size_max</em>&nbsp;</td><td>Maximum size for object data, use sizeof(your_object_t) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors</dd></dl>
<p>See also <a class="el" href="structkogmo__rtdb__obj__info__t.html" title="Data Block that contains Object-Metadata. The Metadata of an Object should not (or only very slowly) ...">kogmo_rtdb_obj_info_t</a> </p>

</div>
</div>
<a class="anchor" id="ga8263d43b43c08d272126f3ca9b5fc413"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_insert" ref="ga8263d43b43c08d272126f3ca9b5fc413" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_obj_info_t *metadata_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> kogmo_rtdb_obj_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>metadata_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert a new Object into the Database. </p>
<p>This inserts the metadata into the database and allocates the space for the object data blocks within the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata_p</em>&nbsp;</td><td>Pointer to previously set up Object-Metadata </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors, new Object-ID on success <br/>
(the new Object-ID will also be written into the given metadata_p). </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters within your metadata_p. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOTUNIQ</em>&nbsp;</td><td>There is already an (unique) object, that cannot coexist with your new (unique) object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOMEMORY</em>&nbsp;</td><td>Not enough memory within the database for the new object and its history, restart the manager with a larger KOGMO_RTDB_HEAPSIZE. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_OUTOFOBJ</em>&nbsp;</td><td>Out of object slots (recompile the database with a higher KOGMO_RTDB_OBJ_MAX). Be aware, that object slots are freed after their history_interval is expired. This error also occurs when the OID reaches its maximum and a restart is required (the OID is large enough that this should not happen within normal operation). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga37c06be2c18f8296bb00582ac476a7f0"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_readinfo" ref="ga37c06be2c18f8296bb00582ac476a7f0" args="(kogmo_rtdb_handle_t *db_h, kogmo_rtdb_objid_t oid, kogmo_timestamp_t ts, kogmo_rtdb_obj_info_t *metadata_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_readinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__obj__info__t.html">kogmo_rtdb_obj_info_t</a> *&nbsp;</td>
          <td class="paramname"> <em>metadata_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the Metadata of an Object given by its Object-ID. </p>
<p>This function retrieves the metadata and copies it into the given metadata_p.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Because you need only the Object-ID to read the object data, it is not necessary to retrieve the metadata first.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oid</em>&nbsp;</td><td>The Object-ID of the object you want to access </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>Normally just 0 for "now"; with this timestamp you can specify a point in time at which the Object was alive (and therefore not yet deleted) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>metadata_p</em>&nbsp;</td><td>Pointer to a user-preallocated object metadata structure that will be filled with a copy of the Metadata of the Object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOTFOUND</em>&nbsp;</td><td>An object with the specified OID cannot be found or is already marked for deletion at the specified ts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2c5463f764f5a876eca68969a5459f57"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_searchinfo" ref="ga2c5463f764f5a876eca68969a5459f57" args="(kogmo_rtdb_handle_t *db_h, _const char *name, kogmo_rtdb_objtype_t otype, kogmo_rtdb_objid_t parent_oid, kogmo_rtdb_objid_t proc_oid, kogmo_timestamp_t ts, kogmo_rtdb_objid_list_t idlist, int nth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> kogmo_rtdb_obj_searchinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a>&nbsp;</td>
          <td class="paramname"> <em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>parent_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>proc_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>idlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find Objects by their Name, Parent, creating Process and Time. </p>
<p>This function searches within the object metadata of all objects. All specified fields must match (AND), a 0 or NULL means any value.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Standard use case: There is at most one object, that matches your search criteria. To find this object, set idlist=NULL and nth=1.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Look only for objects matching the given name; use NULL or "" for any name; start with ~ to specify a regular expression, e.g. "~^foobar.*$" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>otype</em>&nbsp;</td><td>If !=0, find only objects with this type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent_oid</em>&nbsp;</td><td>If !=0, find only objects whose parent has this object-ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proc_oid</em>&nbsp;</td><td>If !=0, find only objects created by this process-ID, see kogmo_rtdb_process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>Timestamp at which the Object must have been alive (and not marked deleted); 0 means "now" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idlist</em>&nbsp;</td><td>If not NULL, the resulting list of object-IDs will be written into this user-preallocated array, terminated by an element with ID 0. The maximum size is fixed, see kogmo_rtdb_objid_list. When you want an idlist, you normally set nth=0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nth</em>&nbsp;</td><td>If !=0, stop the search after the n-th occurrence (starting with 1). So if you want the oid of the first hit, set idlist=NULL and nth=1. Set nth=2 for the second hit, and so on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors,<br/>
 if idlist=NULL: the object-ID of the nth result,<br/>
 if an idlist!=NULL is given, the real number of matching objects (can be higher than the length of idlist!) </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_NOTFOUND</em>&nbsp;</td><td>There are no objects that match your search criteria. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters (parent object does not exist (at that time), invalid regular expression). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4e996bbe98b76d753b6453918b5fb52e"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_searchinfo_wait" ref="ga4e996bbe98b76d753b6453918b5fb52e" args="(kogmo_rtdb_handle_t *db_h, _const char *name, kogmo_rtdb_objtype_t otype, kogmo_rtdb_objid_t parent_oid, kogmo_rtdb_objid_t proc_oid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> kogmo_rtdb_obj_searchinfo_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a>&nbsp;</td>
          <td class="paramname"> <em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>parent_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>proc_oid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists. </p>
<p>This function searches and waits if necessary until there is an object, whose metadata matches your criteria. If no object cannot be found, this functions blocks and waits until another process creates an suitable object. If there is such an object, the result is exactly the same as kogmo_rtdb_obj_searchinfo(...,idlist=NULL,nth=1).</p>
<p>This function searches only in the object metadata.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>You should use <a class="el" href="group__kogmo__rtdb__meta.html#ga4e996bbe98b76d753b6453918b5fb52e" title="Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists...">kogmo_rtdb_obj_searchinfo_wait()</a> within the initialization stage of your software. So you don't need to arrange for a certain start order, as the needed objects are found as soon as they get created. <br/>
 If you want to check for new objects within your main loop, you might prefer <a class="el" href="group__kogmo__rtdb__meta.html#ga2c5463f764f5a876eca68969a5459f57" title="Find Objects by their Name, Parent, creating Process and Time.">kogmo_rtdb_obj_searchinfo()</a> or <a class="el" href="group__kogmo__rtdb__meta.html#ga279616a754506c42bc0104dd241e49ee" title="Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists...">kogmo_rtdb_obj_searchinfo_wait_until()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Look only for objects matching the given name; use NULL or "" for any name; start with ~ to specify a regular expression, e.g. "~^foobar.*$" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>otype</em>&nbsp;</td><td>If !=0, find only objects with this type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent_oid</em>&nbsp;</td><td>If !=0, find only objects whose parent has this object-ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proc_oid</em>&nbsp;</td><td>If !=0, find only objects created by this process-ID, see kogmo_rtdb_process </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors, otherwise the object-ID of the first matching object is returned </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters (parent object does not exist (at that time) or has been deleted (to avoid waiting forever), invalid regular expression). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga279616a754506c42bc0104dd241e49ee"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_searchinfo_wait_until" ref="ga279616a754506c42bc0104dd241e49ee" args="(kogmo_rtdb_handle_t *db_h, _const char *name, kogmo_rtdb_objtype_t otype, kogmo_rtdb_objid_t parent_oid, kogmo_rtdb_objid_t proc_oid, kogmo_timestamp_t wakeup_ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a> kogmo_rtdb_obj_searchinfo_wait_until </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a>&nbsp;</td>
          <td class="paramname"> <em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>parent_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>proc_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>wakeup_ts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists, but return after a Timeout. </p>
<p>This function searches and waits if necessary until there is an object, whose metadata matches your criteria, exactly like <a class="el" href="group__kogmo__rtdb__meta.html#ga4e996bbe98b76d753b6453918b5fb52e" title="Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists...">kogmo_rtdb_obj_searchinfo_wait()</a>. However it stops blocking and returns after a given timeout.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Look only for objects matching the given name; use NULL or "" for any name; start with ~ to specify a regular expression, e.g. "~^foobar.*$" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>otype</em>&nbsp;</td><td>If !=0, find only objects with this type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent_oid</em>&nbsp;</td><td>If !=0, find only objects whose parent has this object-ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proc_oid</em>&nbsp;</td><td>If !=0, find only objects created by this process-ID, see kogmo_rtdb_process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wakeup_ts</em>&nbsp;</td><td>Absolute Time at which to wake up and return if there is still no object found, 0 means infinite (like <a class="el" href="group__kogmo__rtdb__meta.html#ga4e996bbe98b76d753b6453918b5fb52e" title="Search and Wait until an Object specified by its Name, Parent, creating Process and Time exists...">kogmo_rtdb_obj_searchinfo_wait()</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on errors, otherwise the object-ID of the first matching object is returned </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_TIMEOUT</em>&nbsp;</td><td>A timeout occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters (parent object does not exist (at that time) or has been deleted (to avoid waiting forever), invalid regular expression). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gabfaace25dd02a253ae9d00a189f67dda"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_searchinfo_waitnext" ref="gabfaace25dd02a253ae9d00a189f67dda" args="(kogmo_rtdb_handle_t *db_h, _const char *name, kogmo_rtdb_objtype_t otype, kogmo_rtdb_objid_t parent_oid, kogmo_rtdb_objid_t proc_oid, kogmo_rtdb_objid_list_t known_idlist, kogmo_rtdb_objid_list_t added_idlist, kogmo_rtdb_objid_list_t deleted_idlist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_searchinfo_waitnext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a>&nbsp;</td>
          <td class="paramname"> <em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>parent_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>proc_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>known_idlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>added_idlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>deleted_idlist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Watch for the Creation and Deletion of Objects matching certain criteria and Wait until there is a Change. </p>
<p>When you call this function the first time, it returns a list of objects, that match your search criteria (known_idlist). When you call it again, it compares this list with the current situation and waits until there is a change. Then the list (known_idlist) will be updated, and a list of the newly added or deleted objects is also returned (added_idlist and deleted_idlist).</p>
<p>This function searches only in the object metadata.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Look only for objects matching the given name; use NULL or "" for any name; start with ~ to specify a regular expression, e.g. "~^foobar.*$" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>otype</em>&nbsp;</td><td>If !=0, find only objects with this type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent_oid</em>&nbsp;</td><td>If !=0, find only objects whose parent has this object-ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proc_oid</em>&nbsp;</td><td>If !=0, find only objects created by this process-ID, see kogmo_rtdb_process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>known_idlist</em>&nbsp;</td><td>The list of object-IDs already known and found in a previous call from <a class="el" href="group__kogmo__rtdb__meta.html#ga2c5463f764f5a876eca68969a5459f57" title="Find Objects by their Name, Parent, creating Process and Time.">kogmo_rtdb_obj_searchinfo()</a>. This list will be automatically updated. You must initialize it with known_idlist[0]=0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>added_idlist</em>&nbsp;</td><td>The list of newly created objects. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deleted_idlist</em>&nbsp;</td><td>The list of newly deleted objects. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on error, otherwise the sum of created plus deleted objects. </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters (parent object does not exist (at that time) or has been deleted (to avoid waiting forever), invalid regular expression). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga94e9969832f1038b091e467275fa8a66"></a><!-- doxytag: member="kogmo_rtdb_funcs.h::kogmo_rtdb_obj_searchinfo_waitnext_until" ref="ga94e9969832f1038b091e467275fa8a66" args="(kogmo_rtdb_handle_t *db_h, _const char *name, kogmo_rtdb_objtype_t otype, kogmo_rtdb_objid_t parent_oid, kogmo_rtdb_objid_t proc_oid, kogmo_rtdb_objid_list_t known_idlist, kogmo_rtdb_objid_list_t added_idlist, kogmo_rtdb_objid_list_t deleted_idlist, kogmo_timestamp_t wakeup_ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kogmo_rtdb_obj_searchinfo_waitnext_until </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkogmo__rtdb__handle__t.html">kogmo_rtdb_handle_t</a> *&nbsp;</td>
          <td class="paramname"> <em>db_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#gafe3487aa5635a807ba432d1a67c849b6">kogmo_rtdb_objtype_t</a>&nbsp;</td>
          <td class="paramname"> <em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>parent_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga4a3b9bf9e624b075a40435f087c538a6">kogmo_rtdb_objid_t</a>&nbsp;</td>
          <td class="paramname"> <em>proc_oid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>known_idlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>added_idlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__rtdb__types.html#ga1f093c4e0ba02102390b4f6a4e3b1b19">kogmo_rtdb_objid_list_t</a>&nbsp;</td>
          <td class="paramname"> <em>deleted_idlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__kogmo__time.html#gab17bc1ed725b2bc06a376917c6ca8bca">kogmo_timestamp_t</a>&nbsp;</td>
          <td class="paramname"> <em>wakeup_ts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Watch for the Creation and Deletion of Objects matching certain criteria and Wait until there is a Change, but return after a Timeout. </p>
<p>This function works like <a class="el" href="group__kogmo__rtdb__meta.html#gabfaace25dd02a253ae9d00a189f67dda" title="Watch for the Creation and Deletion of Objects matching certain criteria and Wait until there is a Ch...">kogmo_rtdb_obj_searchinfo_waitnext()</a> with the distinction that it stops blocking and returns after a given timeout.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db_h</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Look only for objects matching the given name; use NULL or "" for any name; start with ~ to specify a regular expression, e.g. "~^foobar.*$" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>otype</em>&nbsp;</td><td>If !=0, find only objects with this type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent_oid</em>&nbsp;</td><td>If !=0, find only objects whose parent has this object-ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proc_oid</em>&nbsp;</td><td>If !=0, find only objects created by this process-ID, see kogmo_rtdb_process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>known_idlist</em>&nbsp;</td><td>The list of object-IDs already known and found in a previous call from <a class="el" href="group__kogmo__rtdb__meta.html#ga2c5463f764f5a876eca68969a5459f57" title="Find Objects by their Name, Parent, creating Process and Time.">kogmo_rtdb_obj_searchinfo()</a>. This list will be automatically updated. You must initialize it with known_idlist[0]=0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>added_idlist</em>&nbsp;</td><td>The list of newly created objects. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deleted_idlist</em>&nbsp;</td><td>The list of newly deleted objects. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wakeup_ts</em>&nbsp;</td><td>Absolute Time at which to wake up and return if there is still no change, 0 means infinite (like <a class="el" href="group__kogmo__rtdb__meta.html#gabfaace25dd02a253ae9d00a189f67dda" title="Watch for the Creation and Deletion of Objects matching certain criteria and Wait until there is a Ch...">kogmo_rtdb_obj_searchinfo_waitnext()</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;0 on error, otherwise the sum of created plus deleted objects. </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_TIMEOUT</em>&nbsp;</td><td>A timeout occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-KOGMO_RTDB_ERR_INVALID</em>&nbsp;</td><td>Invalid parameters (parent object does not exist (at that time) or has been deleted (to avoid waiting forever), invalid regular expression). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1"><address style="align: right;"><small>
Generated for KogMo-RTDB by Matthias.Goebl (mattias.goebl*kogmo-rtdb.de) - all rights reserved.</small></address>
</body>
</html>
